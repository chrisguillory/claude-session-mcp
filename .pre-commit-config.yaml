repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.14.10
    hooks:
      - id: ruff
        args: [--fix, .]
        pass_filenames: false
        always_run: true
      - id: ruff-format
        args: [.]
        pass_filenames: false
        always_run: true

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.19.1
    hooks:
      - id: mypy
        # NOTE: pre-commit runs mypy in an isolated environment. Dependencies from
        # pyproject.toml are NOT automatically available. Any library or type stub
        # that mypy needs must be listed here explicitly.
        additional_dependencies:
          - pydantic>=2.12
          - pydantic-settings>=2.12
          - httpx
          - typer
          - fastmcp
          - zstandard
          - uuid6
          - filelock
          - attrs
          - lazy-object-proxy
          - mitmproxy
          - anthropic
          - psutil
          - types-psutil
          - expiringdict
        args: [--config-file=pyproject.toml, .]
        pass_filenames: false
        always_run: true